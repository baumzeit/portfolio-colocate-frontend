.voronoi {
  .bounds {
    stroke-width: 2;
    @apply stroke-bg-primary;
  }

  .cell {
    opacity: 1;
    .pattern {
      fill-opacity: 0.9;
      transition: fill-opacity 200ms ease-out;
    }
    .highlight-pattern {
      fill-opacity: 0;
      transition: fill-opacity 90ms ease-out;
    }
    .cell-gap {
      stroke-width: 22;
      @apply stroke-bg-primary;
      transition: stroke-width 200ms ease-out;
    }
    .cell-border {
      stroke-width: 1;
      fill: transparent;
      @apply stroke-brandLight;
      transform-origin: center;
    }
    .image {
      transform-origin: center;
      transform: scale(1);
      @apply opacity-95 dark:opacity-80;
      transition: transform 250ms ease-out, opacity 90ms ease-out;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
    }

    .annotation {
      transition: opacity 60ms ease-out;

      .label {
        text-anchor: middle;
        dominant-baseline: central;
        @apply fill-bg-primary;
        @apply md:text-sm xl:text-lg font-body;
      }
      .label-box,
      .focus-dot {
        @apply fill-text-primary;
        fill-opacity: 0.8;
      }
    }

    &.hover-selected {
      .pattern {
        fill-opacity: 0.15;
      }
      .highlight-pattern {
        fill-opacity: 0;
      }
      .cell-gap {
        stroke-width: 20;
      }
      .image {
        opacity: 1;
        transform: scale(1.012);
      }
    }
  }

  &.highlight-view {
    .cell {
      .image {
        @apply opacity-30 dark:opacity-20;
      }

      .annotation {
        opacity: 0;
      }

      &.area-highlight {
        .image {
          opacity: 1;
        }
        .highlight-pattern {
          fill-opacity: 0.95;
        }
        .annotation {
          opacity: 1;
        }
      }
    }
  }
}
